{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/markup-tasks.js","../src/js/tasks.js"],"sourcesContent":["export default {\n  body: document.querySelector(\"body\"),\n  form: document.querySelector('#task-form'),\n  list: document.querySelector('#task-list'),\n  btnToggle: document.querySelector('#themeToggle'),\n};\n","const setLocalStorage = (key, array) =>\n  localStorage.setItem(key, JSON.stringify(array));\nconst getLocalStorage = key => JSON.parse(localStorage.getItem(key));\nconst removeLocalStorage = key => localStorage.removeItem(key);\n\nexport { setLocalStorage, getLocalStorage, removeLocalStorage};\n","export const markupTasksAdd = (el, title, text, id) => {\n  el.insertAdjacentHTML(\n    'beforeend',\n    `<li class=\"task-list-item\">\n      <button data-id=\"${id}\" class=\"task-list-item-btn\">Delete</button>\n      <h3>${title}</h3>\n      <p>${text}</p>\n    </li>`\n  );\n};\n\n","import swal from 'sweetalert';\nimport refs from './refs';\nimport { nanoid } from 'nanoid';\nimport {\n  setLocalStorage,\n  getLocalStorage,\n  removeLocalStorage,\n} from './local-storage-api';\nimport { markupTasksAdd } from './markup-tasks';\n\n// перевірка local storage та відмалювання карток\nconst KEY_TASKLIST = 'taskList';\nlet taskArr = getLocalStorage(KEY_TASKLIST) || [];\nif (getLocalStorage(KEY_TASKLIST)) {\n  taskArr.forEach(({ taskName, taskDescription, id }) => {\n    markupTasksAdd(refs.list, taskName, taskDescription, id);\n  });\n}\n\nconst KEY_THEME = 'theme';\nlet themArr = getLocalStorage(KEY_THEME) || '[]';\nif (getLocalStorage(KEY_THEME)) {\n  refs.body.classList.replace('theme-dark', 'theme-light');\n}\n\n// додавання нової картки\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n  const formData = new FormData(refs.form);\n  const taskName = formData.get('taskName').trim();\n  const taskDescription = formData.get('taskDescription').trim();\n  if (!taskName || !taskDescription) {\n    swal({\n      title: 'Нотатка не додана!',\n      text: 'Ви не заповнили всі поля!',\n      icon: 'error',\n    });\n    return;\n  }\n  const taskObj = { taskName, taskDescription, id: nanoid() };\n  taskArr.push(taskObj);\n  setLocalStorage(KEY_TASKLIST, taskArr);\n  markupTasksAdd(refs.list, taskName, taskDescription);\n  refs.form.reset();\n});\n\n// видалення картки\nrefs.list.addEventListener('click', event => {\n  const btn = event.target.closest('.task-list-item-btn');\n  if (!btn) {\n    return;\n  }\n  const taskId = btn.dataset.id;\n  const parentItem = btn.closest('.task-list-item');\n  if (parentItem) {\n    taskArr = taskArr.filter(el => el.id !== taskId);\n    setLocalStorage(KEY_TASKLIST, taskArr);\n    parentItem.remove();\n  }\n});\n\n// зміна теми\nrefs.btnToggle.addEventListener('click', () => {\n  if (refs.body.classList.contains('theme-dark')) {\n    refs.body.classList.replace('theme-dark', 'theme-light');\n    setLocalStorage(KEY_THEME, [1]);\n  } else {\n    refs.body.classList.replace('theme-light', 'theme-dark');\n    removeLocalStorage(KEY_THEME);\n  }\n});\n"],"names":["refs","setLocalStorage","key","array","getLocalStorage","removeLocalStorage","markupTasksAdd","el","title","text","id","KEY_TASKLIST","taskArr","taskName","taskDescription","KEY_THEME","event","formData","swal","taskObj","nanoid","btn","taskId","parentItem"],"mappings":"6vBAAA,MAAeA,EAAA,CACb,KAAM,SAAS,cAAc,MAAM,EACnC,KAAM,SAAS,cAAc,YAAY,EACzC,KAAM,SAAS,cAAc,YAAY,EACzC,UAAW,SAAS,cAAc,cAAc,CAClD,ECLMC,EAAkB,CAACC,EAAKC,IAC5B,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,EAC3CC,EAAkBF,GAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,EAC7DG,EAAqBH,GAAO,aAAa,WAAWA,CAAG,ECHhDI,EAAiB,CAACC,EAAIC,EAAOC,EAAMC,IAAO,CACrDH,EAAG,mBACD,YACA;AAAA,yBACqBG,CAAE;AAAA,YACfF,CAAK;AAAA,WACNC,CAAI;AAAA,UAEf,CACA,ECEME,EAAe,WACrB,IAAIC,EAAUR,EAAgBO,CAAY,GAAK,GAC3CP,EAAgBO,CAAY,GAC9BC,EAAQ,QAAQ,CAAC,CAAE,SAAAC,EAAU,gBAAAC,EAAiB,GAAAJ,CAAE,IAAO,CACrDJ,EAAeN,EAAK,KAAMa,EAAUC,EAAiBJ,CAAE,CAC3D,CAAG,EAGH,MAAMK,EAAY,QACJX,EAAgBW,CAAS,EACnCX,EAAgBW,CAAS,GAC3Bf,EAAK,KAAK,UAAU,QAAQ,aAAc,aAAa,EAIzDA,EAAK,KAAK,iBAAiB,SAAUgB,GAAS,CAC5CA,EAAM,eAAc,EACpB,MAAMC,EAAW,IAAI,SAASjB,EAAK,IAAI,EACjCa,EAAWI,EAAS,IAAI,UAAU,EAAE,KAAI,EACxCH,EAAkBG,EAAS,IAAI,iBAAiB,EAAE,KAAI,EAC5D,GAAI,CAACJ,GAAY,CAACC,EAAiB,CACjCI,EAAK,CACH,MAAO,qBACP,KAAM,4BACN,KAAM,OACZ,CAAK,EACD,MACD,CACD,MAAMC,EAAU,CAAE,SAAAN,EAAU,gBAAAC,EAAiB,GAAIM,EAAM,GACvDR,EAAQ,KAAKO,CAAO,EACpBlB,EAAgBU,EAAcC,CAAO,EACrCN,EAAeN,EAAK,KAAMa,EAAUC,CAAe,EACnDd,EAAK,KAAK,OACZ,CAAC,EAGDA,EAAK,KAAK,iBAAiB,QAASgB,GAAS,CAC3C,MAAMK,EAAML,EAAM,OAAO,QAAQ,qBAAqB,EACtD,GAAI,CAACK,EACH,OAEF,MAAMC,EAASD,EAAI,QAAQ,GACrBE,EAAaF,EAAI,QAAQ,iBAAiB,EAC5CE,IACFX,EAAUA,EAAQ,OAAOL,GAAMA,EAAG,KAAOe,CAAM,EAC/CrB,EAAgBU,EAAcC,CAAO,EACrCW,EAAW,OAAM,EAErB,CAAC,EAGDvB,EAAK,UAAU,iBAAiB,QAAS,IAAM,CACzCA,EAAK,KAAK,UAAU,SAAS,YAAY,GAC3CA,EAAK,KAAK,UAAU,QAAQ,aAAc,aAAa,EACvDC,EAAgBc,EAAW,CAAC,CAAC,CAAC,IAE9Bf,EAAK,KAAK,UAAU,QAAQ,cAAe,YAAY,EACvDK,EAAmBU,CAAS,EAEhC,CAAC"}